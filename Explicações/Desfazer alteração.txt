Desfazer alteraÃ§Ã£o
â—
Para desfazer uma alteraÃ§Ã£o utilizamos uma aÃ§Ã£o conhecida como
rollback;
â—
O comando para verificar uma alteraÃ§Ã£o Ã©: kubectl rollout status
deployment/<NOME>
â—Com ele e com o kubectl get pods, podemos identificar problemas;
â—Para voltar a alteraÃ§Ã£o utilizamos: kubectl rollout undo
deployment/<NOME>
Ex.:
-> 
res-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ minikue start
minikue: comando nÃ£o encontrado
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ minikube  start
ğŸ˜„  minikube v1.37.0 on Linuxmint 21.3
âœ¨  Using the docker driver based on existing profile
ğŸ‘  Starting "minikube" primary control-plane node in "minikube" cluster
ğŸšœ  Pulling base image v0.0.48 ...
ğŸ”„  Restarting existing docker container for "minikube" ...
ğŸ³  Preparing Kubernetes v1.34.0 on Docker 28.4.0 ...
ğŸ”  Verifying Kubernetes components...
    â–ª Using image docker.io/kubernetesui/dashboard:v2.7.0
    â–ª Using image docker.io/kubernetesui/metrics-scraper:v1.0.8
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
ğŸ’¡  Some dashboard features require the metrics-server addon. To enable all features please run:

        minikube addons enable metrics-server

ğŸŒŸ  Enabled addons: storage-provisioner, dashboard, default-storageclass

â—  /usr/local/bin/kubectl is version 1.31.0, which may have incompatibilities with Kubernetes 1.34.0.
    â–ª Want kubectl v1.34.0? Try 'minikube kubectl -- get pods -A'
ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl set image deployment/flask-deployment flask-kub-projeto=alktecno/flask-hub-projeto:2
deployment.apps/flask-deployment image updated
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl set image deployment/flask-deployment flask-kub-projeto=alktecno/flask-hub-projeto:3
deployment.apps/flask-deployment image updated
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl get pods
NAME                                READY   STATUS             RESTARTS      AGE
flask-deployment-7594645847-9jd7n   0/1     ImagePullBackOff   0             28s
flask-deployment-7fdd54ff89-5qcx8   1/1     Running            1 (84s ago)   47h
flask-deployment-7fdd54ff89-6s4wf   1/1     Running            1 (84s ago)   47h
flask-deployment-7fdd54ff89-mvxl4   1/1     Running            1 (84s ago)   47h
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl rollout status deployment/flask-deployment
Waiting for deployment "flask-deployment" rollout to finish: 1 out of 3 new replicas have been updated...
^Cdesenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl rollout undo deployment/flask-deployment
deployment.apps/flask-deployment rolled back
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl get pods
NAME                                READY   STATUS         RESTARTS        AGE
flask-deployment-6bf576f9b6-4j557   0/1     ErrImagePull   0               10s
flask-deployment-7fdd54ff89-5qcx8   1/1     Running        1 (6m11s ago)   47h
flask-deployment-7fdd54ff89-6s4wf   1/1     Running        1 (6m11s ago)   47h
flask-deployment-7fdd54ff89-mvxl4   1/1     Running        1 (6m11s ago)   47h
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl rollout undo deployment/flask-deployment
deployment.apps/flask-deployment rolled back
desenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ kubectl rollout status deployment/flask-deployment
Waiting for deployment "flask-deployment" rollout to finish: 1 out of 3 new replicas have been updated...
^[[A^[[B^Cdesenvolvedor@desenvolvedor-ThinkPad-T440p:~/Cursos_Hora de Codar/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/Curso-Docker-para-Desenvolvedores-com-Docker-Swarm-e-Kubernetes-_Revis-o_2025/6_kubernetes/1_projeto$ 